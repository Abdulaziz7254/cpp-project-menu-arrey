#include<iostream>
using namespace std;

bool valid_id(int id){
    int temp = 0;
    while(id > 0){
        temp++;
        id/=10;
    }
    return  temp == 7;
}


void insert(int student_id, int index, int students_list[], int &counter) {
    

   
    for (int i = counter; i > index; i--) {
        students_list[i] = students_list[i - 1];
    }


    students_list[index] = student_id;
    counter++;
}
void bubble_sort(int students_list[], int counter){
    for (int i = 0; i < counter; i++){
        for (int j =0; j < (counter - i - 1); j++){
            if (students_list[j] > students_list[j + 1]) {
                int temp = students_list[j];
                students_list[j] = students_list[j + 1];
                students_list[j + 1] = temp;
            }
        }
    }
    cout << "Students sorted by ID in ascending order." << endl;
    
}
void show_all(int students_list[], int counter) {
    cout << "Student IDs:" << endl;
    for (int i = 0; i < counter; i++) {
        cout<< "Index " << i <<": " << students_list[i] << endl;
    }


}
int main() {
    int choice, student_id, counter = 0, index;
    int students_list[100];
    bool Found = false;
    

    do {
        cout << "\n==== Student ID Manager ====" << endl;
        cout << "1) Add student" << endl;
        cout << "2) Insert student" << endl;
        cout << "3) Delete student" << endl;
        cout << "4) Search student" << endl;
        cout << "5) Sort students by ID" << endl;
        cout << "6) Display all students" << endl;
        cout << "7) Exit" << endl;

        cout << "Choose an option: ";
        cin >> choice;

        switch(choice) {
            case 1:
                do {
                    cout << "Enter student ID: ";
                    cin >> student_id;
                    if(!valid_id(student_id))
                        cout << "Write valid student id example is 1234567" << endl;
                    else {
                        students_list[counter++] = student_id;
                        cout << "Student added." << endl;
                    }
                } while (!valid_id(student_id));
                break;

            case 2:
                do {
                    cout << "Enter position: ";
                    cin >> index;
                    if (index < 0 || index > counter) {
                        cout << "Invalid index!\n";
                        break;
                    }
                    cout << "Enter student ID: ";
                    cin >> student_id;
                    if(!valid_id(student_id))
                        cout << "Write valid student id example is 1234567" << endl;
                    else {
                        insert(student_id, index, students_list, counter);
                        cout << "Student inserted." << endl;
                    }
                } while (!valid_id(student_id));
                break;

            case 3:
                cout << "Enter index to delete: ";
                cin >> index;
                
                if (index < 0 || index >= counter) {
                    cout << "Invalid index!\n";
                    break;
                }
                    
                for (int i = index; i < counter - 1; i++) {
                    students_list[i] = students_list[i + 1];
                }
                counter--;
                cout << "Student deleted." << endl;
                break;

            case 4:{
                int CurElem = 0;
                cout << "Enter ID to search: ";
                cin >> student_id;
                if (!valid_id(student_id)){
                        cout << "Write valid student id example is 1234567" << endl;
                        break;       
                }        
                 while (CurElem < counter && !Found){
                    if (students_list[CurElem] == student_id){
                        Found = true;
                        break;
                    }
                    else
                        CurElem ++;
                }
                cout << (Found 
                    ? "Student with ID " + to_string(student_id) + " found at index " +   to_string(CurElem)
                    : "Student with ID " + to_string(student_id) + " not found")
                    << endl;
                    

                break;
            }
            case 5:
                if (counter != 0)
                    bubble_sort(students_list, counter);
                else
                    cout << "Array is now empty!" << endl;
                break;
                
            case 6:
                if (counter != 0)
                    show_all(students_list, counter);
                else
                    cout << "Array is now empty!" << endl;
                break;

            case 7:
                cout << "Thank you! Program ended. \n";
                break;

            default:
                cout << "Invalid choice!\n";
        }
    } while (choice != 7);

    return 0;
}
